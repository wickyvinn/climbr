<!DOCTYPE HTML>
<html>
	<head>
		<link rel="stylesheet" href="../css/sign-in.css">
	  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <script src="js/jquery.min.js"></script>
	</head>
	<body>
		<div class="container">
			<form action="/seshinfo" method="POST">
				<div class="form-section">
					<div>What do you want to do today?</div>
					<div class="checkBoxes">
						<input type="checkbox" name="toprope" value="yes">top rope<br>
						<input type="checkbox" name="lead" value="yes">lead climb<br>
						<input type="checkbox" name="lead" value="yes">boulder<br>
					</div>
				</div>
				<div class="form-section">
						<div>How long are you sticking around for?</div>
						<div class="form-section">
							<select class="sessionTime"></select>
						</div>
				</div>
					<button type="submit">CLIMBING</button>
					<div id="preventSubmit"></div>
				</form>
		</div>

		<script>

			$(function(){
    		var $select = $(".sessionTime");
    		var times = ["whenever", "sundown", "6:00am", "6:30am", "7:00am", "7:30am", "8:00am", "8:30am", "9:00am", "9:30am", "10:00am", "10:30am", "11:00am", "11:30am", "12:00pm", "12:30pm", "1:00pm", "1:30pm", "2:00pm", "2:30pm", "3:00pm", "3:30pm", "4:00pm", "4:30pm", "5:00pm", "5:30pm", "6:00pm", "6:30pm", "7:30pm", "8:00pm", "8:30pm", "9:00pm", "9:30pm", "10:00pm", "10:30pm", "11:00pm", "sundown"];
    		for (i=0;i<=35;i++) {
    			$select.append($('<option></option>').val(times[i]).html(times[i]))
    		}
			});

		// validate form submission
		// double code from perminfo.html
		$("form").submit(function(event) {
			var emptyInputs = $(this).parent().find("input").filter(function() {
        	return this.value === "";
    	});

			if (emptyInputs.length) {
				event.preventDefault();
				$("#preventSubmit").html("fill it out dude");
			}

			$("select").each(function () {
				var defaultValue = "default";
				var selectedValue = $(this).val()
				if (defaultValue === selectedValue) {
					event.preventDefault();	
					$("#preventSubmit").html("Some info fields are not yet filled out.");
				}
			});

		});
		</script>
</html> 